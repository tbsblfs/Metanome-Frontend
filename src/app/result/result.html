<md-card ng-if="file">
  <p style="margin-left: 20px; margin-top: 15px">Results for file '{{file.shortFileName}}'</p>
</md-card>
<md-card ng-if="execution">
  <p style="margin-left: 20px; margin-top: 15px">Results for algorithm '{{execution.algorithm.fileName}}'<span ng-if="execution.end > 0">
      executed in
      {{duration}}</span>
    <span ng-if="execution.end == 0">
      - EXECUTION ABORTED!</span>
    <a
      ng-if="!extended && !count && execution.end > 0"
      ui-sref="result({{extendedState}})"
      style="margin: -10px 10px -10px 0; float: right;">
      <md-button ng-click="executeAlgorithm(cachingSelection, memory)" class="md-raised md-primary">Load extended result
      </md-button>
    </a>
  </p>
</md-card>
<md-card
  ng-repeat="resultType in [uniqueColumnCombination, functionalDependency, inclusionDependency, basicStatistic, denialConstraint, conditionalUniqueColumnCombination, orderDependency, multivaluedDependency]"
  ng-if="(cached || file)  && resultType.count > 0">
  <md-table-toolbar>
    <h2 class="md-title">{{resultType.params.type}}
      <md-button
        ng-if="extended && resultType.visualization"
        ng-click="openVisualization(resultType.visualization)"
        style="font-size: 12px; margin-top: -2px"
        md-no-ink
        class="md-primary">Show visualization
      </md-button>
    </h2>
  </md-table-toolbar>
  <md-table-container>
    <table md-table class="md-primary result-table">
      <thead md-head md-order="resultType.query.order">
        <tr md-row class="result-header-row">
          <th
            md-column
            ng-repeat-start="column in resultType.columnNames"
            md-order-by="{{column.order}}"
            name="{{column.name}}"
            ng-repeat-end>{{column.name}}</th>
          <th
              md-column
              ng-if="extended"
              ng-repeat-start="column in resultType.extendedColumnNames"
              md-order-by="{{column.order}}"
              name="{{column.name}}"
              ng-repeat-end>{{column.name}}</th>
        </tr>
      </thead>
      <tbody md-body>
        <tr
          md-row
          ng-repeat="item in resultType.data | orderBy: resultType.query.order | limitTo: resultType.query.limit: (resultType.query.page - 1) * resultType.query.limit">
          <td md-cell ng-repeat-start="column in resultType.columnNames" ng-repeat-end>{{item[column.order] || '-'}}</td>
          <td md-cell ng-if="extended" ng-repeat-start="column in resultType.extendedColumnNames" ng-repeat-end>{{item[column.order] || '-'}}</td>
        </tr>
      </tbody>
    </table>
  </md-table-container>
  <md-table-pagination
    md-limit="resultType.query.limit"
    md-page="resultType.query.page"
    md-total="{{resultType.count}}"
    md-on-paginate="resultType.pageChange"
    md-options=paginationValues></md-table-pagination>
</md-card>
<md-card
  ng-repeat="resultType in [uniqueColumnCombination, functionalDependency, inclusionDependency, basicStatistic, denialConstraint, conditionalUniqueColumnCombination, orderDependency, multivaluedDependency]"
  ng-if="count && resultType.count > 0">
  <md-card-content>
    <h2 class="md-title">{{resultType.params.type}}</h2>
    {{resultType.count}}
  </md-card-content>
</md-card>
<md-card
  ng-if="uniqueColumnCombination.count == 0 && orderDependency.count == 0 &&
  conditionalUniqueColumnCombination.count == 0 && basicStatistic.count == 0 && functionalDependency.count == 0 &&
  inclusionDependency.count == 0 && multivaluedDependency.count == 0 && denialConstraint.count == 0 && loading == false">
  <h3 style="margin: 20px" class="md-title">No results found!</h3>
</md-card>
<span us-spinner="{radius:50, width:20, length: 26}" spinner-key="spinner-2"></span>
